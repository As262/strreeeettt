(()=>{var e={};e.id=420,e.ids=[420],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},8344:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>c,originalPathname:()=>p,pages:()=>u,routeModule:()=>g,tree:()=>d}),r(1693),r(9745),r(5866);var a=r(3191),s=r(8716),n=r(7922),o=r.n(n),i=r(5231),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["report",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,1693)),"C:\\Users\\avina\\Desktop\\street fix\\frontend\\app\\report\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,9745)),"C:\\Users\\avina\\Desktop\\street fix\\frontend\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\Users\\avina\\Desktop\\street fix\\frontend\\app\\report\\page.tsx"],p="/report/page",c={require:r,loadChunk:()=>Promise.resolve()},g=new a.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/report/page",pathname:"/report",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},5592:(e,t,r)=>{Promise.resolve().then(r.bind(r,3531))},3531:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var a=r(326),s=r(7577),n=r(6824);function o(){let[e,t]=(0,s.useState)([]),[r,o]=(0,s.useState)({title:"",description:"",category:"",image:null,latitude:0,longitude:0,address:""}),i=async e=>{e.preventDefault();let t=new FormData;Object.entries(r).forEach(([e,r])=>{null!==r&&("image"===e&&r instanceof File?t.append(e,r):"image"!==e&&t.append(e,r))});let{data:a,error:s}=await n.x.createReport(t);a?(alert("Report submitted successfully!"),o({title:"",description:"",category:"",image:null,latitude:0,longitude:0,address:""})):alert("Error submitting report: "+s)};return(0,a.jsxs)("div",{children:[a.jsx("h1",{children:"Report an Issue"}),(0,a.jsxs)("form",{onSubmit:i,children:[a.jsx("label",{htmlFor:"title",children:"Title"}),a.jsx("input",{id:"title",type:"text",value:r.title,onChange:e=>o({...r,title:e.target.value}),className:"w-full p-2 border rounded",required:!0}),a.jsx("label",{htmlFor:"category",children:"Category"}),(0,a.jsxs)("select",{id:"category",value:r.category,onChange:e=>o({...r,category:e.target.value}),className:"w-full p-2 border rounded",required:!0,children:[a.jsx("option",{value:"",children:"Select a category"}),e.map(e=>a.jsx("option",{value:e.slug,children:e.name},e.slug))]}),a.jsx("label",{htmlFor:"description",children:"Description"}),a.jsx("textarea",{id:"description",value:r.description,onChange:e=>o({...r,description:e.target.value}),className:"w-full p-2 border rounded h-32",required:!0}),a.jsx("button",{type:"submit",className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Submit Report"})]})]})}},6824:(e,t,r)=>{"use strict";r.d(t,{x:()=>a});let a={async getCategories(){try{let e=await fetch("http://localhost:8000/api/categories/",{credentials:"include"});if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);return{data:await e.json(),error:null}}catch(e){return{data:null,error:e}}},async createReport(e){try{let t=await fetch("http://localhost:8000/api/reports/",{method:"POST",body:e,credentials:"include"});if(!t.ok)throw Error(`HTTP error! status: ${t.status}`);return{data:await t.json(),error:null}}catch(e){return{data:null,error:e}}}}},1693:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(8570).createProxy)(String.raw`C:\Users\avina\Desktop\street fix\frontend\app\report\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[36,173],()=>r(8344));module.exports=a})();